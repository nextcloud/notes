/**
 * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors
 * SPDX-FileCopyrightText: Jan-Christoph Borchardt http://jancborchardt.net
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */

/* workaround for https://github.com/nextcloud/nextcloud-vue/issues/1384 */
body {
	min-height: 100%;
	height: auto;
}

/* App Navigation fixes */
.app-navigation-entry.category-header:not(.app-navigation-entry--opened) .app-navigation-entry__title {
	font-weight: bold;
}

#app-navigation > ul > li.app-navigation-caption.caption-item {
	padding: 0;
	pointer-events: inherit;
}

.app-navigation-entry__utils .action-item {
	visibility: hidden;
}

li.actionsOpen .app-navigation-entry__utils .action-item,
li.app-navigation-entry--deleted .app-navigation-entry__utils .action-item,
li.active .app-navigation-entry__utils .action-item,
li:hover  .app-navigation-entry__utils .action-item,
li:focus  .app-navigation-entry__utils .action-item {
	visibility: visible;
}

/* Welcome / Help */
.feature {
	background-position: 0 center;
	width: 100%;
	min-height: 32px;
	line-height: 32px;
	padding-inline-start: 32px;
	margin-top: 0.3em !important;
	margin-bottom: 0.3em !important;
	display: inline-block;
	vertical-align: middle;
}

body[dir='ltr'] .feature {
	background-position-x: left;
}

body[dir='rtl'] .feature {
	background-position-x: right;
}

.feature ul {
	list-style: circle outside;
	padding-inline-start: 2em;
}


@media print {
	/* Hide UI elements that shouldn't appear in print */
	#header,
	.app-navigation,
	#note-container .action-buttons,
	#note-container .upload-button,
	.vue-content,
	.app-navigation-toggle,
	.app-sidebar,
	.app-sidebar-tabs,
	.modal-mask,
	.modal-wrapper,
	.toastify,
	.notification-wrapper,
	.app-content-list,
	.text-menubar {
		display: none !important;
	}

	/* Optimize page layout for printing */
	html, body {
		margin: 0 !important;
		padding: 0 !important;
		width: 100% !important;
		height: auto !important;
		background: white !important;
		color: black !important;
		font-family: "Times New Roman", Times, serif !important;
		font-size: 12pt !important;
		line-height: 1.5 !important;
	}

	.content,
	#content {
		display: block;
		padding: 0;
		margin: 0;
		color: #000;
		background: white;
		width: 100% !important;
	}

	.app-content {
		margin-inline-start: 0 !important;
		margin: 0 !important;
		padding: 20px !important;
		width: 100% !important;
		max-width: none !important;
	}

	/* Note content styling for print */
	#note-container {
		width: 100% !important;
		margin: 0 !important;
		padding: 0 !important;
		background: white !important;
		box-shadow: none !important;
		border: none !important;
	}

	#note-container .note-editor,
	#note-container .note-preview,
	.text-editor,
	.text-editor-wrapper {
		padding: 20px !important;
		margin: 0 !important;
		font-size: 12pt !important;
		line-height: 1.5 !important;
		color: black !important;
		background: white !important;
		width: 100% !important;
		height: auto !important;
		overflow: visible !important;
		border: none !important;
		box-shadow: none !important;
	}

	/* Typography adjustments for better readability */
	h1, h2, h3, h4, h5, h6 {
		color: black !important;
		margin-top: 18pt !important;
		margin-bottom: 12pt !important;
		font-weight: bold !important;
		break-after: avoid !important;
	}

	h1 { font-size: 18pt !important; }
	h2 { font-size: 16pt !important; }
	h3 { font-size: 14pt !important; }
	h4, h5, h6 { font-size: 12pt !important; }

	p {
		margin: 6pt 0 !important;
		orphans: 3 !important;
		widows: 3 !important;
		color: black !important;
	}

	/* Lists */
	ul, ol {
		margin: 6pt 0 !important;
		padding-inline-start: 20pt !important;
	}

	li {
		margin-bottom: 3pt !important;
		color: black !important;
	}

	/* Code blocks */
	code, pre {
		font-family: "Courier New", Courier, monospace !important;
		font-size: 10pt !important;
		background: #f5f5f5 !important;
		border: 1px solid #ddd !important;
		padding: 2pt !important;
		color: black !important;
	}

	pre {
		padding: 6pt !important;
		margin: 6pt 0 !important;
		break-inside: avoid !important;
	}

	/* Tables */
	table {
		border-collapse: collapse !important;
		width: 100% !important;
		margin: 12pt 0 !important;
		break-inside: auto !important;
	}

	th, td {
		border: 1px solid #000 !important;
		padding: 4pt !important;
		text-align: start !important;
		color: black !important;
	}

	th {
		background: #f0f0f0 !important;
		font-weight: bold !important;
	}

	/* Links - show URLs in print */
	a[href]:after {
		content: " (" attr(href) ")";
		font-size: 10pt;
		color: #666;
	}

	/* Page break controls */
	.page-break {
		break-before: always !important;
	}

	.no-page-break {
		break-inside: avoid !important;
	}

	/* Hide placeholder text */
	.placeholder {
		display: none !important;
	}

	/* Ensure images fit on page */
	img {
		max-width: 100% !important;
		height: auto !important;
		break-inside: avoid !important;
	}

	/* Remove any floating elements */
	* {
		float: none !important;
		position: static !important;
	}
}
